"use strict";(self.webpackChunkangular_canvas_2=self.webpackChunkangular_canvas_2||[]).push([[687],{3687:(g,l,a)=>{a.r(l),a.d(l,{AuthModule:()=>_});var d=a(6895),n=a(4006),u=a(7615),i=a(9886),o=a(4650),h=a(7556);const c=[{path:"",component:(()=>{class e{constructor(t,r,m){this._authService=t,this._router=r,this._toast=m,this.i18n_authSubmit="Submit",this.authForm=new n.cw({username:new n.NI("",[n.kI.required]),password:new n.NI("",[n.kI.required])}),this._lockForm=!1}get lockForm(){return this._lockForm}toggleForm(){this._lockForm=!this._lockForm}onLoginClick(){this.authForm.value.username&&this.authForm.value.password&&(this.toggleForm(),this._authService.login(this.authForm.value.username,this.authForm.value.password).subscribe({next:t=>{this.toggleForm(),this._router.navigate(["/"]),this._toast.info("Welcome, " + t.firstName + "!","Logged in!",{duration:2e3})},error:()=>{this.toggleForm(),this._toast.danger("User with such username and password wasn't found","Log in failed",{duration:6e3})}}))}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(h.e),o.Y36(i.F0),o.Y36(u.quB))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-auth"]],decls:12,vars:4,consts:function(){let s,t;return s="Username: ",t="Password: ",[[1,"login-form"],[3,"formGroup","ngSubmit"],["for","userame"],s,["nbInput","","type","text","formControlName","username","name","username","id","username",3,"disabled"],["for","password"],t,["nbInput","","type","text","formControlName","password","name","password","id","password",3,"disabled"],["nbInput","","type","submit",3,"disabled"]]},template:function(t,r){1&t&&(o.TgZ(0,"nb-card")(1,"nb-card-body",0)(2,"form",1),o.NdJ("ngSubmit",function(){return r.onLoginClick()}),o.TgZ(3,"label",2),o.SDv(4,3),o.qZA(),o._UZ(5,"input",4)(6,"br"),o.TgZ(7,"label",5),o.SDv(8,6),o.qZA(),o._UZ(9,"input",7)(10,"br")(11,"input",8),o.qZA()()()),2&t&&(o.xp6(2),o.Q6J("formGroup",r.authForm),o.xp6(3),o.Q6J("disabled",r.lockForm),o.xp6(4),o.Q6J("disabled",r.lockForm),o.xp6(2),o.Q6J("disabled",r.authForm.invalid&&r.lockForm))},dependencies:[n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,u.h8i,u.Asz,u.yKW],styles:[".login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;place-items:center}.login-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),e})()}];let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[i.Bz.forChild(c),i.Bz]}),e})(),_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[d.ez,f,n.UX,u.nKr,u.T2N,u.LW9,u.zyh]}),e})()}}]);